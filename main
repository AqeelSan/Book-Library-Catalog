#include <iostream>
#include <string>
#include <vector>
#include <map>
#include <algorithm> // Added for transform function
using namespace std;

<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<h1>The picture element</h1>

<p>Resize the browser window to load different images.</p>

<picture>
  <source media="(min-width:650px)" srcset="img_pink_flowers.jpg">
  <source media="(min-width:465px)" srcset="img_white_flower.jpg">
  <img src="img_orange_flowers.jpg" alt="Flowers" style="width:auto;">
</picture>

</body>
</html>

// Define a structure for a Book
struct Book {
    string title;
    string author;
    int publishYear;
    bool isBorrowed;
};

// Function to convert string to lowercase
string toLowerCase(const string& str) {
    string lowerStr = str;
    transform(lowerStr.begin(), lowerStr.end(), lowerStr.begin(), ::tolower);
    return lowerStr;
}

// Function to display book information
void displayBookInfo(const vector<Book>& books) {
    for (size_t i = 0; i < books.size(); i++) {
        cout << "Book " << i + 1 << ":" << endl;
        cout << "Title: " << books[i].title << endl;
        cout << "Author: " << books[i].author << endl;
        cout << "Publish Year: " << books[i].publishYear << endl;
        cout << "Borrowed: " << (books[i].isBorrowed ? "Yes" : "No") << endl;
        cout << "----------------------------" << endl;
    }
}

// Function to add a new book
void addBook(vector<Book>& books) {
    Book newBook;
    cout << "Enter title: ";
    cin.ignore();
    getline(cin, newBook.title);
    cout << "Enter author: ";
    getline(cin, newBook.author);
    cout << "Enter publish year: ";
    cin >> newBook.publishYear;
    cout << "Is the book borrowed? (1 for Yes, 0 for No): ";
    cin >> newBook.isBorrowed;

    books.push_back(newBook);
    cout << "Book added successfully!" << endl;
}

// Function to remove a book by its index
void removeBook(vector<Book>& books) {
    int index;
    cout << "Enter the index of the book to remove: ";
    cin >> index;

    if (index > 0 && index <= books.size()) {
        books.erase(books.begin() + index - 1);
        cout << "Book removed successfully!" << endl;
    } else {
        cout << "Invalid index!" << endl;
    }
}

// Function to search books by title or author
void searchBooksByTitleOrAuthor(const vector<Book>& books, const string& input) {
    bool found = false;
    string lowerInput = toLowerCase(input); // Convert input to lowercase

    for (size_t i = 0; i < books.size(); i++) {
        if (toLowerCase(books[i].title) == lowerInput || toLowerCase(books[i].author) == lowerInput) { // Compare lowercase strings
            cout << "Book found!" << endl;
            cout << "Title: " << books[i].title << endl;
            cout << "Author: " << books[i].author << endl;
            cout << "Publish Year: " << books[i].publishYear << endl;
            cout << "Borrowed: " << (books[i].isBorrowed ? "Yes" : "No") << endl;
            found = true;
            break;
        }
    }

    if (!found) {
        cout << "Book with title or author \"" << input << "\" not found." << endl;
    }
}

// Function to generate reading statistics
void generateStatistics(const vector<Book>& books) {
    int totalBooks = books.size();
    int borrowedBooks = 0;

    map<int, int> yearDistribution;

    for (const auto& book : books) {
        if (book.isBorrowed) {
            borrowedBooks++;
        }
        yearDistribution[book.publishYear]++;
    }

    // Display statistics
    cout << "Total number of books: " << totalBooks << endl;
    cout << "Number of borrowed books: " << borrowedBooks << endl;
    cout << "Year-wise distribution of books:" << endl;

    for (const auto& entry : yearDistribution) {
        cout << "Year " << entry.first << ": " << entry.second << " book(s)" << endl;
    }
}

int main() {
    vector<Book> books = {
        {"The Hobbit", "J.R.R. Tolkien", 1937, false},
        {"1984", "George Orwell", 1949, true},
        {"To Kill a Mockingbird", "Harper Lee", 1960, false},
        {"The Great Gatsby", "F. Scott Fitzgerald", 1925, true},
        {"Moby Dick", "Herman Melville", 1851, false},
        {"War and Peace", "Leo Tolstoy", 1869, true},
        {"Pride and Prejudice", "Jane Austen", 1813, false},
        {"The Catcher in the Rye", "J.D. Salinger", 1951, true},
        {"The Odyssey", "Homer", 1800, false},
        {"Ulysses", "James Joyce", 1922, true}
    };

    int choice;
    do {
        cout << "1. Display Books" << endl;
        cout << "2. Add Book" << endl;
        cout << "3. Remove Book" << endl;
        cout << "4. Search Book by Title or Author" << endl;
        cout << "5. Generate Reading Statistics" << endl;
        cout << "6. Exit" << endl;
        cout << "Enter your choice: ";
        cin >> choice;

        switch (choice) {
            case 1:
                displayBookInfo(books);
                break;
            case 2:
                addBook(books);
                break;
            case 3:
                removeBook(books);
                break;
            case 4: {
                string input;
                cout << "Enter title or author to search: ";
                cin.ignore();
                getline(cin, input);
                searchBooksByTitleOrAuthor(books, input);
                break;
            }
            case 5:
                generateStatistics(books);
                break;
            case 6:
                cout << "Exiting..." << endl;
                break;
            default:
                cout << "Invalid choice! Please try again." << endl;
                break;
        }
    } while (choice != 6);

    return 0;
}
